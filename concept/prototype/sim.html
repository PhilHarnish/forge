<!doctype html>
<html ng-app="simulation">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Gameplay simulation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../third_party/bootstrap/docs/assets/css/bootstrap.css"
        rel="stylesheet">
<style>
body {
  margin: 5px;
}
.btn-group {
  margin-bottom: 18px;
}
.location-direction {
  position: absolute;
}
</style>
</head>
<body>

<div ng-controller="MeterController">
  <div ng-repeat="meter in meters" class="progress progress-{{meter.css}}">
    <div class="bar" style="width: {{meter.value}}%">{{meter.name}}</div>
  </div>
</div>

<ul class="nav nav-tabs">
  <li class="active">
    <a href="#explore" class="fx-tab">explore</a>
  </li>
  <li>
    <a href="#rest" class="fx-tab">rest</a>
  </li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="explore" ng-controller="ExploreController">
    <div class="btn-group">
      <button ng-repeat="action in actions"
              ng-class="{active: action.active, disabled: action.disabled}"
              class="btn fx-mutex">{{action.name}}</button>
    </div>
    <table class="table">
      <tbody>
        <tr>
          <td>&nbsp;</td>
          <td colspan="3">new areas</td>
        </tr>
        <tr ng-repeat="location in locations">
          <td>
            <input type="checkbox"
                   ng-class="{hide: !location.memorable}"
                   value="">
          </td>
          <td>{{location.name}}</td>
          <td>
            <span ng-class="{hide: location.distance()}">&times;</span>
            <span ng-class="{hide: !location.distance()}"
                  ng-style="location.cssRotation()"
                  class="location-direction">&uarr;</span>
          </td>
          <td>{{location.distance()}}m</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="tab-pane" id="rest" ng-controller="RestController">
    <div class="btn-group">
      <button ng-repeat="action in actions"
              ng-class="{active: action.active, disabled: action.disabled}"
              class="btn fx-mutex">{{action.name}}</button>
    </div>
    <table class="table">
      <tbody>
        <tr ng-repeat="item in items">
          <td>
            <input type="checkbox" ng-model="item.owned">
          </td>
          <td>{{item.name}}</td>
          <td>{{item.weight}}kg</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<script src="../../third_party/jquery/dist/jquery.js"></script>
<script src="../../third_party/jQuery-Animate-Enhanced/jquery.animate-enhanced.min.js"></script>
<script src="../../third_party/EaselJS/lib/easeljs-NEXT.min.js"></script>
<script src="../../third_party/alea/Mash.js"></script>
<script src="../../third_party/alea/Alea.js"></script>
<script src="../../third_party/angular.js/build/angular.js"></script>
<script src="fx.js"></script>
<script src="sim.js"></script>
</body>
</html>
